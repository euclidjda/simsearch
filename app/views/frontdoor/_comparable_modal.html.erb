<div id="comparable-modal" class="modal hide fade comparable-modal" tabindex="-1"
     role="dialog" aria-labelledby="myComparableModalLabel" aria-hidden="true">

  <div class="modal-body">

    <table class="comparable-table"><tr>

	<td class="comparable-table-left-pane">

	  <div id="comparable-carousel-left" class="carousel">
	    <!-- Carousel items -->

	    <div id="carousel-inner-left" class="carousel-inner">

	      <div id="carousel-item-left" 
		   class="active item comparable-detail-left">

		<div class="company-name"><%= target_fields['name'] %></div>
		<div class="ticker"><%= target_fields['ticker'] %></div>
		<div class="year">TODAY</div>
		<div class="date">
		  <% price_date = target_fields['pricedate'] %>
		  <%= Date::MONTHNAMES[price_date.month][0..2] + 
		      ' ' + price_date.day.to_s + ', ' + 
		      price_date.year.to_s %>
		</div>

		<div class="factors-header">Factors</div>

		<div class="factors-body">
		  <div class="factors factor-ey">
		    <%= sprintf("EYd: %.2f%%",100*target_fields[:ey]); %>
		  </div>
		  <div class="factors factor-roc">
		    <%= sprintf("ROC: %.2f%%",100*target_fields[:roc]); %>
		  </div>
		  <div class="factors factor-grwth">
		    <%= sprintf("GRW: %.2f%%",100*target_fields[:grwth]); %>
		  </div>
		  <div class="factors factor-epscon">
		    <%= sprintf("CON: %.2f",target_fields[:epscon]); %>
		  </div>
		  <div class="factors factor-ae">
		    <%= sprintf("LIQ: %.2f%%",100*target_fields[:ae]); %>
		  </div>
		  <div class="factors factor-momentum">
		    <%= sprintf("MOM: %.2f%%",100*target_fields[:momentum]); %>
		  </div>
		</div>

		<div class="key-stats-header">Key Statistics</div>

		<div class="key-stats-body">

		  <div class="key-stats mrkcap-label">Market Capitalization:</div>
		  <div class="key-stats mrkcap-value">
		    <%= sprintf("%.2fM",target_fields['mrkcap']); %>
		  </div>
		  
		  <div class="key-stats price-label">Price/Share:</div>
		  <div class="key-stats price-value">
		    <%= sprintf("$%.2f",target_fields['price']); %>
		  </div>
		  
		  <div class="key-stats dividend-label">Dividend:</div>
		  <div class="key-stats dividend-value">
		    <%= sprintf("%.2f (%.1f%%)",
			target_fields['dvpsxm_ttm'],
			target_fields['yield']*100); %>
		  </div>
		  
		  <div class="key-stats eps-label">Earnings/Share:</div>
		  <div class="key-stats eps-value">
		    <%= sprintf("$%.2f",target_fields['epspxq_ttm']); %>
		  </div>
		  
		  <div class="key-stats pe-label">Price-to-Earnings:</div>
		  <div class="key-stats pe-value">
		    <%= sprintf("%.2f",target_fields['pe']); %>
		  </div>
		  
		  <div class="key-stats pb-label">Price-to-Book:</div>
		  <div class="key-stats pb-value">
		    <%= sprintf("%.2f",target_fields['pb']); %>
		  </div>

		</div>
		
	      </div>

	    </div>
	  </div> <!-- end of carousel-inner-left -->

	</td> 

	<td class="comparable-table-right-pane">

	  <div id="comparable-carousel-right" class="carousel slide">

	    <!-- Carousel items -->
	    <div id="carousel-inner-right" class="carousel-inner">
	    </div>
	    
	    <!-- Carousel nav -->
	    <a class="carousel-control left" 
	       href="#comparable-carousel-right" data-slide="prev">&lsaquo;</a>
	    <a class="carousel-control right" 
	       href="#comparable-carousel-right" data-slide="next">&rsaquo;</a>
	    
	  </div>
	</td>

    </tr></table>

  </div> <!-- end of modal-body -->

  <div id="carousel-item-right-template"
       class="item comparable-detail-right"
       style="display:none">

    <div class="company-name"></div>
    <div class="ticker"></div>
    <div class="year"></div>
    <div class="date"></div>

    <div class="factors-header">Factors</div>

    <div class="factors-body">
      <div class="factors factor-ey"></div>
      <div class="factors factor-roc"></div>
      <div class="factors factor-grwth"></div>
      <div class="factors factor-epscon"></div>
      <div class="factors factor-ae"></div>
      <div class="factors factor-momentum"></div>
    </div>

    <div class="key-stats-header">Key Statistics</div>

    <div class="key-stats-body">

      <div class="key-stats mrkcap-label">Market Capitalization:</div>
      <div class="key-stats mrkcap-value"></div>
      
      <div class="key-stats price-label">Price/Share:</div>
      <div class="key-stats price-value"></div>
      
      <div class="key-stats dividend-label">Dividend:</div>
      <div class="key-stats dividend-value"></div>
      
      <div class="key-stats eps-label">Earnings/Share:</div>
      <div class="key-stats eps-value"></div>
      
      <div class="key-stats pe-label">Price-to-Earnings:</div>
      <div class="key-stats pe-value"></div>
      
      <div class="key-stats pb-label">Price-to-Book:</div>
      <div class="key-stats pb-value"></div>

    </div>

    <div class="chart-grwth"></div>
    <div class="chart-price"></div>

  </div> <!-- end of carousel-item-right-template -->

</div> <!-- end of comparable-model -->
