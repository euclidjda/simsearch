
<% results = ActiveSupport::JSON.decode(result_set) %>

<% 	result_count = [12, results.length].min %>

    <div class="span9">

<% first_row = true %>

<% (0..result_count-1).each do |i| %>
	<% new_row = (i%3 == 0) %>

	<% if new_row %> 
		<% if !first_row %>
			</div> <!-- row-fluid -->
		<% else %>
			<% first_row = false %>
		<% end %>
		<div class="row-fluid"> 
	<% end %>

		<div class="span4 comparable">
			<!-- <%= new_row %> -->
			<h2><%= results[i]['ticker'] %></h2>
			This is some test content here... Let's see what it will show<br>
			This is the second line of the test content for the block.
		</div> <!-- span3 -->
<% end %>
</div> <!-- end of last row -->

</div> <!--end of span9 -->